(this.webpackJsonpprueba_indra=this.webpackJsonpprueba_indra||[]).push([[0],{33:function(e,t,a){e.exports=a(50)},38:function(e,t,a){},39:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),u=(a(38),a(39),a(8)),o=a(4),s=a(23),i=(a(40),a(42),s.initializeApp({apiKey:"AIzaSyCiWX7XS7bywENkJKxyzKa9BkKTWV3Xsic",authDomain:"prueba-hindra.firebaseapp.com",databaseURL:"https://prueba-hindra.firebaseio.com",projectId:"prueba-hindra",storageBucket:"prueba-hindra.appspot.com",messagingSenderId:"833531295878",appId:"1:833531295878:web:2dcfccd0488e09bec2b907"})),m=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),r.a.createElement("button",{onClick:function(){i.auth().signOut()}},"Salir"))},p=a(6),b=a.n(p),h=a(9),d=Object(o.f)((function(e){var t=Object(n.useCallback)(function(){var t=Object(h.a)(b.a.mark((function t(a){var n,r,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=a.target.elements,r=n.email,l=n.password,console.log(r,l),t.prev=3,t.next=6,i.auth().createUserWithEmailAndPassword(r.value,l.value);case 6:alert("Se cre\xf3 el usuario  ".concat(r.value)),e.history.push("/login"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),[e.history]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Registar Usuario"),r.a.createElement("form",{onSubmit:t},r.a.createElement("label",null,"Usuario o Correo:",r.a.createElement("input",{name:"email",type:"text"})),r.a.createElement("br",null),r.a.createElement("label",null,"Contrase\xf1a:",r.a.createElement("input",{name:"password",type:"password"})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Enviar"),r.a.createElement(u.b,{to:"/login"},"Ingresar")))})),E=a(29),f=r.a.createContext({}),v=function(e){var t=e.children,a=Object(n.useState)(null),l=Object(E.a)(a,2),c=l[0],u=l[1];return Object(n.useEffect)((function(){i.auth().onAuthStateChanged(u)}),[]),r.a.createElement(f.Provider,{value:{currentUser:c}},t)},g=function(e){var t=Object(n.useCallback)(function(){var t=Object(h.a)(b.a.mark((function t(a){var n,r,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=a.target.elements,r=n.email,l=n.password,t.prev=2,t.next=5,i.auth().signInWithEmailAndPassword(r.value,l.value);case 5:e.history.push("/posts"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),alert(t.t0);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}(),[e.history]),a=Object(n.useContext)(f);return console.log(a.currentUser),a.currentUser?r.a.createElement(o.a,{to:"/posts"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Ingreso"),r.a.createElement("form",{onSubmit:t},r.a.createElement("label",null,"Usuario:",r.a.createElement("input",{name:"email",type:"text"})),r.a.createElement("br",null),r.a.createElement("label",null,"Contrase\xf1a:",r.a.createElement("input",{name:"password",type:"password"})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Ingresar"),r.a.createElement(u.b,{to:"/signup"},"Registrarse")))},x=a(31),y=function(e){var t=e.component,a=Object(x.a)(e,["component"]),l=Object(n.useContext)(f).currentUser;return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return l?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))},w=a(26),k=a(27),O=a(30),j=a(28),C=a(32),S=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).db=null,a.handleSubmit=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r,l,c,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements,r=n.name,l=n.text,e.prev=2,u={text:l.value,name:r.value,user:(null===(c=i.auth().currentUser)||void 0===c?void 0:c.uid)||""},e.next=6,a.db.push().set(u);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),a.state={posts:[]},a.db=i.database().ref().child("Post"),a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(b.a.mark((function e(){var t,a=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.posts,this.db.on("child_added",(function(e){t.push({postsId:e.key,name:e.val().name,text:e.val().text}),a.setState({posts:t})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Post"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Nombre:",r.a.createElement("input",{name:"name",type:"text"})),r.a.createElement("br",null),r.a.createElement("label",null,"Contenido:",r.a.createElement("input",{name:"text",type:"text"})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Publicar")),r.a.createElement("br",null),r.a.createElement("ul",null,this.state.posts.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("b",null,e.name,":")," - ",e.text," - ",e.user)}))),r.a.createElement("button",{onClick:function(){i.auth().signOut()}},"Salir"))}}]),t}(n.Component);var I=function(){return r.a.createElement(v,null,r.a.createElement(u.a,null,r.a.createElement(o.b,{exact:!0,path:"/",component:m}),r.a.createElement(o.b,{exact:!0,path:"/login",component:g}),r.a.createElement(o.b,{exact:!0,path:"/signup",component:d}),r.a.createElement(y,{exact:!0,path:"/posts",component:S})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.292abca3.chunk.js.map