(this.webpackJsonpprueba_indra=this.webpackJsonpprueba_indra||[]).push([[0],{199:function(e,t,a){e.exports=a(384)},204:function(e,t,a){},206:function(e,t,a){},384:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),s=(a(204),a(205),a(50)),o=a(24),i=(a(206),a(161)),m=(a(207),a(209),i.initializeApp({apiKey:"AIzaSyCiWX7XS7bywENkJKxyzKa9BkKTWV3Xsic",authDomain:"prueba-hindra.firebaseapp.com",databaseURL:"https://prueba-hindra.firebaseio.com",projectId:"prueba-hindra",storageBucket:"prueba-hindra.appspot.com",messagingSenderId:"833531295878",appId:"1:833531295878:web:2dcfccd0488e09bec2b907"})),u=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),r.a.createElement("button",{onClick:function(){m.auth().signOut()}},"Salir"))},p=a(65),h=a.n(p),E=a(92),b=Object(o.f)((function(e){var t=Object(n.useCallback)(function(){var t=Object(E.a)(h.a.mark((function t(a){var n,r,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=a.target.elements,r=n.email,l=n.password,console.log(r,l),t.prev=3,t.next=6,m.auth().createUserWithEmailAndPassword(r.value,l.value);case 6:alert("Se cre\xf3 el usuario  ".concat(r.value)),e.history.push("/login"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),[e.history]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Registar Usuario"),r.a.createElement("form",{onSubmit:t},r.a.createElement("label",null,"Usuario o Correo:",r.a.createElement("input",{name:"email",type:"text"})),r.a.createElement("br",null),r.a.createElement("label",null,"Contrase\xf1a:",r.a.createElement("input",{name:"password",type:"password"})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Enviar"),r.a.createElement(s.b,{to:"/login"},"Ingresar")))})),d=a(103),f=r.a.createContext({}),g=function(e){var t=e.children,a=Object(n.useState)(null),l=Object(d.a)(a,2),c=l[0],s=l[1];return Object(n.useEffect)((function(){m.auth().onAuthStateChanged(s)}),[]),r.a.createElement(f.Provider,{value:{currentUser:c}},t)},v=a(69),y=a(29),w=a(387),I=a(389),x=a(392),j=a(390),O=a(134),k=a(394),C=a(395),S=a(391),P=a(388),A=a(393),U=function(e){var t=e.alertProps;return r.a.createElement(S.a,null,r.a.createElement(S.a.Header,null,r.a.createElement(P.a.Title,{style:{color:"white"}},e.title||"Testing App")),r.a.createElement(S.a.Content,null,r.a.createElement("br",null),e.children||"Content"),r.a.createElement(S.a.Footer,{style:{textAlign:"center"}},"Powered by esbgo97"),t.show?r.a.createElement(A.a,{type:t.type,message:t.message,showIcon:!0}):null)},N=function(e){var t=Object(n.useState)({type:"info",message:"",show:!1}),a=Object(d.a)(t,2),l=a[0],c=a[1],i=Object(n.useCallback)((function(t){m.auth().signInWithEmailAndPassword(t.email,t.password).then((function(t){t&&(c({show:!0,message:"Login Success",type:"success"}),e.history.push("/posts"))})).catch((function(e){c({show:!0,message:e.message,type:"error"})}))}),[e.history]);return Object(n.useContext)(f).currentUser?r.a.createElement(o.a,{to:"/posts"}):r.a.createElement(U,{alertProps:l},r.a.createElement(v.a,null,r.a.createElement(y.a,{span:12,offset:6},r.a.createElement(w.a,{title:"Ingreso",style:{textAlign:"center"}},r.a.createElement(I.a,{name:"Login",className:"login-form",initialValues:{rememberMe:!0},onFinish:i},r.a.createElement(I.a.Item,{name:"email",rules:[{required:!0,message:"Ingrese un correo v\xe1lido"}]},r.a.createElement(x.a,{placeholder:"Email",prefix:r.a.createElement(k.a,{className:"site-form-item-icon"})})),r.a.createElement(I.a.Item,{name:"password",rules:[{required:!0,message:"Ingrese una clave"}]},r.a.createElement(x.a,{placeholder:"Clave",prefix:r.a.createElement(C.a,{className:"site-form-item-icon"}),type:"password"})),r.a.createElement(I.a.Item,{name:"remember",valuePropName:"checked"},r.a.createElement(j.a,null,"Remember me")),r.a.createElement(I.a.Item,null,r.a.createElement(O.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Ingresar "),r.a.createElement("br",null),r.a.createElement(s.b,{to:"/signup"},"Registrarse")))))))},T=a(194),W=a(183),q=a(184),z=a(193),L=a(185),X=a(195),B=a(386),D=a(385),K=function(e){function t(e){var a;return Object(W.a)(this,t),(a=Object(z.a)(this,Object(L.a)(t).call(this,e))).db=null,a.handleSubmit=function(e){var t,n=Object(T.a)({user:(null===(t=m.auth().currentUser)||void 0===t?void 0:t.uid)||""},e);a.db.push().set(n).then((function(e){a.setState({alert:{show:!0,type:"info",message:"Adde Posts"}})})).catch((function(e){a.setState({alert:{show:!0,type:"error",message:e.message}})}))},a.state={posts:[],alert:{type:"info",message:"",show:!1}},a.db=m.database().ref().child("Post"),a}return Object(X.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(h.a.mark((function e(){var t,a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.posts,this.db.on("child_added",(function(e){t.push({postsId:e.key,name:e.val().name,text:e.val().text}),a.setState({posts:t})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(U,{title:"Post Page",alertProps:this.state.alert},r.a.createElement(v.a,{gutter:[16,16]},r.a.createElement(y.a,{span:6},r.a.createElement(w.a,{title:"Publish new Post"},r.a.createElement(I.a,{onFinish:this.handleSubmit},r.a.createElement(I.a.Item,{name:"name",rules:[{required:!0,message:"Ingrese un nombre"}]},r.a.createElement(x.a,{placeholder:"Nombre"})),r.a.createElement(I.a.Item,{name:"text",rules:[{required:!0,message:"Ingrese un nombre"}]},r.a.createElement(x.a,{placeholder:"Contenido"})),r.a.createElement(I.a.Item,null,r.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Publicar"))))),r.a.createElement(y.a,{span:12},r.a.createElement(w.a,null,r.a.createElement(B.a,{itemLayout:"horizontal",dataSource:this.state.posts,renderItem:function(e){return r.a.createElement(B.a.Item,null,r.a.createElement(B.a.Item.Meta,{avatar:r.a.createElement(D.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:e.name,description:e.text}))}}))),r.a.createElement(y.a,{span:6},r.a.createElement(w.a,{title:"Users"}))),r.a.createElement("br",null),r.a.createElement(O.a,{type:"primary",onClick:function(){m.auth().signOut()}},"Salir"))}}]),t}(n.Component),R=a(196),F=function(e){var t=e.component,a=Object(R.a)(e,["component"]),l=Object(n.useContext)(f).currentUser;return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return l?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))};var H=function(){return r.a.createElement(g,null,r.a.createElement(s.a,null,r.a.createElement(o.b,{exact:!0,path:"/",component:u}),r.a.createElement(o.b,{exact:!0,path:"/login",component:N}),r.a.createElement(o.b,{exact:!0,path:"/signup",component:b}),r.a.createElement(F,{exact:!0,path:"/posts",component:K})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[199,1,2]]]);
//# sourceMappingURL=main.84855f1c.chunk.js.map